<!DOCTYPE html>
<!--
Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
-->
<html>

<head>
    <title>Diary</title>
    <base target="xxx_blank" />
    <META http-equiv="Content-Type" content="text/html;" charset="UTF-8">
    <META name="viewport" content="width=device-witdh, initial-scale=1, maximum-scale=1, user-scale=0">

    <!-------------------------------------------->
    <!---- Insert this before scripts import; then restor back later -->
    <script>//if (typeof module === 'object') { window.module = module; module = undefined; }</script>

    <!-------------- jq --------------------->
    <script ____src="./doc_files/jquery-2_1_3.min.js"></script>
    <script src="https://wdingbox.github.io/ham12/jq/jquery-2_1_3.min.js"></script>
    <script xxxxxxxsrc="http://localhost:7878/assets/ckeditor/adapters/jq/jquery-2_1_3.min.js"
        note="selfseversite"></script>
    <!-------------- ckeditor only--------------------->
    <script src="../assets/ckeditor/ckeditor.js"></script>
    <script src="../assets/ckeditor/samples/old/sample.js"></script>
    <link href="../assets/ckeditor/samples/old/sample.css" rel="stylesheet">


    <script ___src="http://localhost:7878/assets/ckeditor/ckeditor.js" note="selfseversite"></script>
    <script ___src="http://localhost:7878/assets/ckeditor/samples/old/sample.js"></script>
    <!-------------------------------------------->

    <script language="javascript"
        src="https://wdingbox.github.io/bible_obj_lib/jsdb/jsBibleStruct/All_Max_struct_json.js"></script>
    <script src="./js/BsnpRestConst.js"></script>
    <script src="./js/BsnpRestApi.js"></script>

    <script src="./js/UtiLib.js"></script>
    <script src="./js/PageUti.js"></script>
    <script src="./js/MyStorage.js"></script>

    <script language="javascript" src="./BibleStudyNotePad.js?v=20.12.4"></script>
    <!----- Insert this line after script imports -->
    <script>//if (window.module) module = window.module;</script>
    <!-------------------------------------------->
    <style>

    </style>
    <script>
        var parm = window.location.search
        if (!parm) {  alert("no search parameters in url.") }

        function gen() {
            $("#gen").on("click",function(){
                var par = {
                "fnames": [
                    "./dat/MyBiblicalDiary"
                ],
                "data": {
                    "2022": {
                        1106:"exy"
              
                    }
                }
            }
            par.data[2022]["1107"]=$(this).next().text()
            var sApiNameID = RestApi.ApiUsrDat_save
            var api = new BsnpRestApi()
            var _this = this
            //$(_this).next().text('...')
            api.ajaxion(
                sApiNameID,
                par,
                function (ret) {
                    console.log("ret", ret.out.data)
                    $(_this).next().text(`ret = ${JSON.stringify(ret, null, 4)}`)
                    if (ret.out.err) {
                        alert("load failed ret.out.err= " + ret.out.err)
                    }
                })
            })
        }
        function get() {
            $("#get").on("click",function(){
                var par = {
                "fnames": [
                    "./dat/MyBiblicalDiary"
                ],
                "data": {
                    "2022": {
                       
              
                    }
                }
            }
            
            var sApiNameID = RestApi.ApiUsrDat_load
            var api = new BsnpRestApi()
            var _this = this
            $(_this).next().text('...')
            api.ajaxion(
                sApiNameID,
                par,
                function (ret) {
                    console.log("ret", ret.out.data)
                    $(_this).next().text(`ret = ${JSON.stringify(ret, null, 4)}`)
                    if (ret.out.err) {
                        alert("load failed ret.out.err= " + ret.out.err)
                    }
                })
            })
        }
        $(function(){
           gen()
           get()
        })
    </script>
</head>

<body onbeforeunload="return 'leave?';">
    <button id="gen" >gen</button><pre contenteditable="">qwqqwqwqw</pre>
    <button id="get" >get</button><pre></pre>

</body>

</script>